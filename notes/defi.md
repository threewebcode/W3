# DeFi

## Projects

- https://github.com/bancorprotocol/contracts-v3.git
- https://github.com/bancorprotocol/carbon-contracts.git
- https://github.com/Synthetixio/synthetix.git
- https://github.com/balancer

## Balancer

The assembly block code gives solidity developer the shortcut ways to interact with virtual machines. Since all of operation codes are not provided by high-level API, these exceptional opcodes can be directly used through asm code block. The normal codes are compiled into assembly codes in the final step. The compiler is responsible for this translation work. The compiler may be updated behind than operation codes in the virtual machine. The asm code block is introduced to solve this conflicts as well as optimization chance.

The import action can be performed in full elements or partial elements ways. The only needed source items are imported. This is the basic rule for import statement. The function set are placed together in the name of library. These function set are attached to custom or specific types by using for directive. The main purpose of library functions is to make computations. These calculations may be done in the function body directly or by the assistance of other functions.

The result computed by the function is return to finish function invocation or assigned to field variable. The mint function is purposed to increase account balance and total supply. The burn function does the opposite work. The modifier function is either preprocess handler or post handler. The function invocation can be nested. One function's output is the input of another function. The modifier function is used to add additional process for current function. Usually, the modifier function adds more conditional constraints. The main category of contract actions are state query and update.

The error only has error keyword and constructor signature without function body. The storage location can be specified and decorate the variable. There are three locations: calldata, memory and storage. The storage is the persist store. The mathematical calculation must be correct and safe. The role is managed in the authorizer contract implementation. There are factory, proxy and delegate design pattern in the solidity contract. The decentralized finance application is a bit complicated database application on the blockchain network.

Every field or variable should has its meaningful explanation and clear purpose. The relationship between onchain entities are constructed and updated through external interactions. The conditional order should be submited, verified and matched. The permission of send, transfer, deposit, withdraw and swap are authorized or permitted by the permission state updates. The swap path is used to finish swap from source token to target token through middle tokens. More than one hop happened. The liquidity pool is added, removed, swapped and queried.


